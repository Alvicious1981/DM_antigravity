ZnJvbSAuaW5pdGlhdGl2ZSBpbXBvcnQgSW5pdGlhdGl2ZVRyYWNrZXIsIENvbWJhdGFudA0KZnJv
bSAuZGIgaW1wb3J0IGdldF9kYg0KaW1wb3J0IGpzb24NCmZyb20gZGF0YWNsYXNzZXMgaW1wb3J0
IGFzZGljdA0KDQojIEdsb2JhbCBJbml0aWF0aXZlIFRyYWNrZXIgKHNpbmdsZSBzZXNzaW9uIGZv
ciBub3cpDQojIEdsb2JhbCBJbml0aWF0aXZlIFRyYWNrZXIgKHNpbmdsZSBzZXNzaW9uIGZvciBu
b3cpDQp0cmFja2VyID0gSW5pdGlhdGl2ZVRyYWNrZXIoKQ0KDQojIFRyYWNrIGNvbWJhdGFudCBw
b3NpdGlvbnM6IHtjaGFyYWN0ZXJfaWQ6IGNlbGxfaWQgKGludCkgb3Igbm9kZV9pZCAoc3RyKX0N
CmNvbWJhdGFudF9wb3NpdGlvbnM6IGRpY3Rbc3RyLCBhbnldID0ge30NCg0KZGVmIHNhdmVfZ2Ft
ZShzYXZlX2lkOiBzdHIpOg0KICAgICIiIlBlcnNpc3QgY3VycmVudCB0cmFja2VyIHN0YXRlIHRv
IERCLiIiIg0KICAgIHN0YXRlID0gew0KICAgICAgICAicm91bmQiOiB0cmFja2VyLnJvdW5kLA0K
ICAgICAgICAidHVybl9pbmRleCI6IHRyYWNrZXIudHVybl9pbmRleCwNCiAgICAgICAgImNvbWJh
dGFudHMiOiBbYXNkaWN0KGMpIGZvciBjIGluIHRyYWNrZXIuY29tYmF0YW50c10sDQogICAgICAg
ICJoYXNfc3RhcnRlZCI6IHRyYWNrZXIuaGFzX3N0YXJ0ZWQsDQogICAgICAgICJwb3NpdGlvbnMi
OiBjb21iYXRhbnRfcG9zaXRpb25zDQogICAgfQ0KICAgIA0KICAgIGRiID0gZ2V0X2RiKCkNCiAg
ICBkYi5leGVjdXRlKCJJTlNFUlQgT1IgUkVQTEFDRSBJTlRPIGdhbWVfc2F2ZXMgKHNhdmVfaWQs
IGRhdGFfanNvbikgVkFMVUVTICg/LCA/KSIsIA0KICAgICAgICAgICAgICAgKHNhdmVfaWQsIGpz
b24uZHVtcHMoc3RhdGUpKSkNCiAgICBkYi5jb21taXQoKQ0KICAgIHByaW50KGYi8J+SviBHYW1l
IHNhdmVkOiB7c2F2ZV9pZH0iKQ0KDQpkZWYgbG9hZF9nYW1lKHNhdmVfaWQ6IHN0cikgLT4gYm9v
bDoNCiAgICAiIiJMb2FkIHRyYWNrZXIgc3RhdGUgZnJvbSBEQi4iIiINCiAgICBkYiA9IGdldF9k
YigpDQogICAgcm93ID0gZGIuZXhlY3V0ZSgiU0VMRUNUIGRhdGFfanNvbiBGUk9NIGdhbWVfc2F2
ZXMgV0hFUkUgc2F2ZV9pZCA9ID8iLCAoc2F2ZV9pZCwpKS5mZXRjaG9uZSgpDQogICAgDQogICAg
aWYgbm90IHJvdzoNCiAgICAgICAgcmV0dXJuIEZhbHNlDQogICAgICAgIA0KICAgIGRhdGEgPSBq
c29uLmxvYWRzKHJvd1siZGF0YV9qc29uIl0pDQogICAgDQogICAgdHJhY2tlci5yb3VuZCA9IGRh
dGEuZ2V0KCJyb3VuZCIsIDEpDQogICAgdHJhY2tlci50dXJuX2luZGV4ID0gZGF0YS5nZXQoInR1
cm5faW5kZXgiLCAwKQ0KICAgIHRyYWNrZXIuaGFzX3N0YXJ0ZWQgPSBkYXRhLmdldCgiaGFzX3N0
YXJ0ZWQiLCBGYWxzZSkNCiAgICANCiAgICB0cmFja2VyLmNvbWJhdGFudHMuY2xlYXIoKQ0KICAg
IGZvciBjX2RhdGEgaW4gZGF0YS5nZXQoImNvbWJhdGFudHMiLCBbXSk6DQogICAgICAgIGMgPSBD
b21iYXRhbnQoKipjX2RhdGEpDQogICAgICAgIHRyYWNrZXIuY29tYmF0YW50cy5hcHBlbmQoYykN
CiAgICANCiAgICAjIExvYWQgcG9zaXRpb25zDQogICAgZ2xvYmFsIGNvbWJhdGFudF9wb3NpdGlv
bnMNCiAgICBjb21iYXRhbnRfcG9zaXRpb25zID0gZGF0YS5nZXQoInBvc2l0aW9ucyIsIHt9KQ0K
ICAgICAgICANCiAgICBwcmludChmIvCfk4IgR2FtZSBsb2FkZWQ6IHtzYXZlX2lkfSIpDQogICAg
cmV0dXJuIFRydWUNCg0KZGVmIGxpc3Rfc2F2ZXMoKSAtPiBsaXN0W2RpY3RdOg0KICAgICIiIkxp
c3QgYWxsIGF2YWlsYWJsZSBzYXZlcy4iIiINCiAgICBkYiA9IGdldF9kYigpDQogICAgcm93cyA9
IGRiLmV4ZWN1dGUoIlNFTEVDVCBzYXZlX2lkLCBjcmVhdGVkX2F0IEZST00gZ2FtZV9zYXZlcyBP
UkRFUiBCWSBjcmVhdGVkX2F0IERFU0MiKS5mZXRjaGFsbCgpDQogICAgcmV0dXJuIFt7InNhdmVf
aWQiOiByb3dbInNhdmVfaWQiXSwgImNyZWF0ZWRfYXQiOiByb3dbImNyZWF0ZWRfYXQiXX0gZm9y
IHJvdyBpbiByb3dzXQ0K
